<!DOCTYPE html>
<html>
<head>
   <meta charset="UTF-8">
   <title>Employee Information - DOM Example</title>
</head>
<body>
   <h1>Employee Information (DOM)</h1>
   <p>
      Click the button to load and display the <b>second employee's</b> details 
      (uses fetch + DOMParser).
   </p>

   <button onclick="getSecondEmployee()">Get Second Employee Info</button>

   <h2>Second Employeeâ€™s Data:</h2>
   <div id="employee-info" style="border:1px solid #ccc; padding:8px; width:60%;"></div>

   <script>
      function loadXML() {
         return fetch('employee.xml')   <!-- this file will hold your employee data -->
            .then(response => {
               if (!response.ok) throw new Error('HTTP error ' + response.status);
               return response.text();
            })
            .then(str => {
               const parser = new DOMParser();
               const xmlDoc = parser.parseFromString(str, "application/xml");

               // Check if parsing failed
               const err = xmlDoc.getElementsByTagName("parsererror");
               if (err.length) throw new Error('XML parse error: ' + err[0].textContent);

               return xmlDoc;
            });
      }

      function getSecondEmployee() {
         loadXML().then(xmlDoc => {
            const employees = xmlDoc.getElementsByTagName("employee");

            if (employees.length >= 2) {
               const e = employees[1]; // second employee (index 1)
               const id = e.getElementsByTagName("id")[0].textContent;
               const name = e.getElementsByTagName("name")[0].textContent;
               const department = e.getElementsByTagName("department")[0].textContent;
               const designation = e.getElementsByTagName("designation")[0].textContent;
               const email = e.getElementsByTagName("email")[0].textContent;
               const salary = e.getElementsByTagName("salary")[0].textContent;

               document.getElementById("employee-info").innerHTML = `
                  <p><b>ID:</b> ${id}</p>
                  <p><b>Name:</b> ${name}</p>
                  <p><b>Department:</b> ${department}</p>
                  <p><b>Designation:</b> ${designation}</p>
                  <p><b>Email:</b> ${email}</p>
                  <p><b>Salary:</b> ${salary}</p>
               `;
            } else {
               alert('Less than 2 employees present.');
            }
         }).catch(err => {
            console.error(err);
            alert('Error: ' + err.message + '\n(If you are running locally, start a local HTTP server and open via http://localhost:PORT/ )');
         });
      }
   </script>
</body>
</html>
